@model IEnumerable<App.Esperanza.Models.Agencia>

@{
    ViewBag.Title = "Mantenimiento Agencias";
}

<h2>Bandeja de Agencias</h2>

<a href="#" class="btn btn-success"
   onclick="appEsperanza.getModal('@Url.Action("Create")');"
   data-toggle="modal" data-target="#modal-container">
    <span class="fa fa-plus">&nbsp;&nbsp;Crear Agencia</span>
</a>

<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">Lista de Agencias</h6>
    </div>
    <div class="card-body" id="agenciaList">
        @Html.Partial("_List")
    </div>
</div>

@Modal.GetModal("Mantenimiento de Agencia", "", "agencia.closeModal();")


<!-- Data Table -->
<link href="~/Content/template/vendor/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">
<script src="~/Content/template/vendor/datatables/jquery.dataTables.min.js"></script>
<script src="~/Content/template/vendor/datatables/dataTables.bootstrap4.min.js"></script>

<!-- Data Table Responsive-->
<link rel="stylesheet" href="~/Content/template/plugins/datatables-responsive/css/responsive.bootstrap4.min.css">
<script src="~/Content/template/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
<script src="~/Content/template/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>

<!-- Data Table Buttons-->
<link rel="stylesheet" href="~/Content/template/plugins/datatables-buttons/css/buttons.bootstrap4.min.css">

@*<script src="~/Content/template/plugins/datatables/jquery.dataTables.min.js"></script>*@
@*<script src="~/Content/template/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>*@

<script src="~/Content/template/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
<script src="~/Content/template/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>

<script src="~/Content/template/plugins/jszip/jszip.min.js"></script>
<script src="~/Content/template/plugins/pdfmake/pdfmake.min.js"></script>
<script src="~/Content/template/plugins/pdfmake/vfs_fonts.js"></script>
<script src="~/Content/template/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
<script src="~/Content/template/plugins/datatables-buttons/js/buttons.print.min.js"></script>
<script src="~/Content/template/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>

<!-- SignalR -->
<script src="~/Scripts/jquery.signalR-2.4.3.js"></script>
<script src="/signalr/hubs"></script>

<!-- Custom scripts de la aplicación-->
<script src="~/App_JS/appEsperanza.js" type="text/javascript"></script>
<script src="~/App_JS/agencia.js" type="text/javascript"></script>

<script type="text/javascript">
    $(function () {
        var agenciaHub = $.connection.agenciaHub;
        $.connection.hub.start().done(function () {
            console.log('Connected to hub...');
        });

        agencia.userId = '@ViewBag.userId';
        agencia.userName = '@ViewBag.userName';
        console.log(agencia.userId);
        console.log(agencia.userName);
    })
</script>